---
title: 面试
categories: "面试总结"
tags:
  - 生活
  - 体会
---
# 常见面试题
## 1.CSS3选择器:nth-child和:nth-of-type之间的差异
> p:nth-child(2)表示这个元素要是p标签，且是第二个子元素，是两个必须满足的条件
而p:nth-of-type(2)表示父标签下的第二个p元素

## JS获取URL中参数值（QueryString）
```
function getQueryString(name) {
    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');
    var r = window.location.search.substr(1).match(reg);
    if (r != null) {
        return unescape(r[2]);
    }
    return null;
}
// 这样调用：
alert(GetQueryString("参数名1"));
alert(GetQueryString("参数名2"));
alert(GetQueryString("参数名3"));
```
## HTML5头部meta整理
1.**页面关键词**
`'<'meta name="keywords" content="关键字，多个关键字用，隔开" />`
2.**页面描述**
`'<'meta name="description" content="150个字符以内" />`
3.**搜索引擎索引方式**
`'<'meta name="robots" content="index,follow" />`
`以下是content里面可以有的索引值，多个索引方式用，隔开！！`
>all：文件将被检索，且页面上的链接可以被查询；
none：文件将不被检索，且页面上的链接不可以被查询；
index：文件将被检索；
follow：页面上的链接可以被查询；
noindex：文件将不被检索；
nofollow：页面上的链接不可以被查询。


 4.**页面重定向和刷新**
`' <'meta http-equiv="refresh" content="0;url=" />`
注：content内的数字代表时间（秒），既多少时间后刷新。如果加url,则会重定向到指定网页（搜索引擎能够自动检测，也很容易被引擎视作误导而受到惩罚）。
5.**其他**
><'meta name="author" content="author name" /> <!-- 定义网页作者 -->
<'meta name="google" content="index,follow" />
<'meta name="googlebot" content="index,follow" />
<'meta name="verify" content="index,follow" />

6.**移动设备**
`viewport：能优化移动浏览器的显示。如果不是响应式网站，不要使用initial-scale或者禁用缩放。`
><'meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no"/>
width：宽度（数值 / device-width）（范围从200 到10,000，默认为980 像素）
height：高度（数值 / device-height）（范围从223 到10,000）
initial-scale：初始的缩放比例 （范围从>0 到10）
minimum-scale：允许用户缩放到的最小比例
maximum-scale：允许用户缩放到的最大比例
user-scalable：用户是否可以手动缩 (no,yes)
minimal-ui：可以在页面加载时最小化上下状态栏。

7.**WebApp全屏模式**
`<'meta name="apple-mobile-web-app-capable" content="yes" /> <!-- 启用 WebApp 全屏模式 -->`
**隐藏状态栏**/设置状态栏颜色：只有在开启WebApp全屏模式时才生效。content的值为default | black | black-translucent 。

`<'meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />`
**添加到主屏后的标题**

`<'meta name="apple-mobile-web-app-title" content="标题">`
**忽略数字自动识别为电话号码**

`<'meta content="telephone=no" name="format-detection" /> `
**忽略识别邮箱**

`<'meta content="email=no" name="format-detection" />`
添加智能 App 广告条 Smart App Banner：告诉浏览器这个网站对应的app，并在页面上显示下载banner

`<'meta name="apple-itunes-app" content="app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL"> `
**其他**

<'!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
`<'meta name="HandheldFriendly" content="true">`
<'!-- 微软的老式浏览器 -->
`<'meta name="MobileOptimized" content="320">`
<'!-- uc强制竖屏 -->
`<'meta name="screen-orientation" content="portrait">`
<'!-- QQ强制竖屏 -->
`<'meta name="x5-orientation" content="portrait">`
<'!-- UC强制全屏 -->
`<'meta name="full-screen" content="yes">`
<'!-- QQ强制全屏 -->
`<'meta name="x5-fullscreen" content="true">`
<'!-- UC应用模式 -->
`<'meta name="browsermode" content="application">`
<'!-- QQ应用模式 -->
`<'meta name="x5-page-mode" content="app">`
<'!-- windows phone 点击无高光 -->
`<'meta name="msapplication-tap-highlight" content="no">`

##网页相关

**申明编码**
`<'meta charset='utf-8' />`
优先使用 IE 最新版本和 Chrome
><'meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<'!-- 关于X-UA-Compatible -->
<'meta http-equiv="X-UA-Compatible" content="IE=6" ><!-- 使用IE6 -->
<'meta http-equiv="X-UA-Compatible" content="IE=7" ><!-- 使用IE7 -->
<'meta http-equiv="X-UA-Compatible" content="IE=8" ><!-- 使用IE8 -->

**浏览器内核控制**
><'meta name="renderer" content="webkit|ie-comp|ie-stand">
禁止浏览器从本地计算机的缓存中访问页面内容
<'meta http-equiv="Pragma" content="no-cache">
Windows 8
<'meta name="msapplication-TileColor" content="#000"/> <!-- Windows 8 磁贴颜色 -->
<'meta name="msapplication-TileImage" content="icon.png"/> <!-- Windows 8 磁贴图标 -->

**站点适配**
><'meta name="mobile-agent"content="format=[wml|xhtml|html5]; url=url">
<!--
[wml|xhtml|html5]根据手机页的协议语言，选择其中一种；
url="url" 后者代表当前PC页所对应的手机页URL，两者必须是一一对应关系。
 -->

**转码申明**
`<meta http-equiv="Cache-Control" content="no-siteapp" />`
用百度打开网页可能会对其进行转码（比如贴广告），避免转码可添加此meta


#数组去重
用数组和对象做对比。
```
Array.prototype.unique3 = function(){
    var res = [];
    var json = {};
    for(var i = 0; i < this.length; i++){
        if(!json[this[i]]){
            res.push(this[i]);
            json[this[i]] = 1;
            console.log(json);
        }
    }
    return res;
};
var arr = [112,112,34,'你好',112,112,34,'你好','str','str1'];
console.log(arr.unique3());
```
建立一个空数组和空对象，循环这个数组，到对象中匹配数组中的元素，如果不存在，则在空数组中添加这个元素，在空对象中添加这个key并随便给个值。

## 函数链式调用
以下回答假设您已经了解闭包的的相关知识
>可以解析为
add(2)返回函数A
A(3)返回函数B
B(4)返回函数C
那么初步的做法是
add函数执行后返回一个函数对象，这个函数对象执行后再返回一个新函数，这样一直执行下去
```
function add(num){
    var sum=0;
    sum= sum+num;
    return function(numB){
        sum= sum+ numB;
        return function(numC){
            sum= sum+ numC;
            return sum;
        }
    }
}
```
代码这样实现后，执行输出9
`var result=add(2)(3)(4);`

>输出的result为9,符合题目的要求
然后再考虑他的拓展性
上面的代码符合我只调用3次函数的情况，
如果要求计算
`var result=add(2)(3)(4)(5);`
上面的实现代码就歇菜了~~~
子所以出现问题是上面的实现最后返回一个变量值，而不是一个函数对象。
好吧，那么我们按前面的写法，继续返回函数，
```
function add(num){
    var sum=0;
    sum= sum+num;
    return function(numB){
        sum= sum+ numB;
        return function(numC){
            sum= sum+ numC;
            return function(numD){
                sum= sum+ numD;
                return function....
            };
        }
    }
}
```
>接下来的问题是如果要调用的次数是未知的（实际上也是未知的），继续按上面代码的写法，是一个不可能完成的任务
但是我们可以发现返回的每一个函数执行的逻辑都是一样的，就此我们可以精简下代码,让函数返回后返回自身，哈哈这就是链式调用的写法，嗯嗯add(2)(3)(4)就是一个链式调用
```
function add(num){
    var sum=0;
    sum= sum+num;
    return function tempFun(numB){
        sum= sum+ numB;
        return tempFun;
    }
}
```
但是
```
var result=add(2)(3)(4)(5);
console.log(result);
```
>并没有输出我们预料的结果14而是一个函数的字符串表示，想想也不奇怪，你每次函数调用后返回的一个函数对象，那么console.log输出就是一个函数对象的字符串表示了。
那么怎么能把结果输出呢？
2种方法
第1种方法,在函数中添加判断，当没有输入参数时，直接返回调用的结果而不是返回函数

调用时和前面的有点区别
```
var result=add(2)(3)(4)(5)();
console.log(result);//输出14
```
>第2中方法利用JS中对象到原始值的转换规则
当一个对象转换成原始值时，先查看对象是否有valueOf方法，如果有并且返回值是一个原始值，
那么直接返回这个值，否则没有valueOf或返回的不是原始值，那么调用toString方法，返回字符串表示
我们就为函数对象添加一个valueOf方法和toString方法
```
function add(num){
    var sum=0;
    sum= sum+num;
    var tempFun=function(numB){
        if(arguments.length===0){
            return sum;
        }else{
            sum= sum+ numB;r
            return tempFun;
        }

    }

    tempFun.valueOf=function(){
        return sum;
    }
    tempFun.toString=function(){
        return sum+'';
    }

    return tempFun;
}
var result=add(2)(3)(4)(5);
console.log(+result);//输出14 valueOf
console.log(result);//输出14 toString
```
>个人认为这样的写法很不好~函数调用语义不清晰
PS:还可以这样实现
```
var add=(function(){
    var args=[];
    function addInner(){
        if(arguments.length===0){
            return calResult;
        }else{
            Array.prototype.push.apply(args,Array.prototype.splice.call(arguments,0));
            return add;
        }

    }
    function calResult(){
        var result=args.reduce(function(previousValue, currentValue){
            return previousValue+currentValue;
        },0);
        args=[];
        return result;
    }
    addInner.valueOf=function(){
        return calResult();
    };

    addInner.toString=function(){
        return calResult()+'';
    };
```
## typeof 返回七种可能的值：“number”、“string”、“boolean”、“object”、"symbol"、“function”和“undefined”。
## 基础类型包括：Number、String、Boolean、Null、Undefined、Symbol（该类型位 ES2015 中新增类型）
